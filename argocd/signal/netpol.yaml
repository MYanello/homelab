apiVersion: "cilium.io/v2"
kind: CiliumNetworkPolicy
metadata:
  name: signal-cli-netpol
spec:
  endpointSelector:
    matchLabels:
      app: signal-cli
  ingress:
    - fromEndpoints:
        - matchLabels:
            k8s:io.kubernetes.pod.namespace: monitoring
    - fromCIDRs:
        - "192.168.1.70" # desktop
  # - fromEntities:
  #   - world  # Allow external traffic from gateway
  #   toPorts:
  #   - ports:
  #     - port: "8080"
  #       protocol: TCP
