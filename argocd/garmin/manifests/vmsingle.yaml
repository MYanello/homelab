apiVersion: operator.victoriametrics.com/v1beta1
kind: VMSingle
metadata:
  name: vmsingle-garmin
spec:
  retentionPeriod: 2y
  storage:
    storageClassName: "truenas-hdd"
    resources:
      requests:
        storage: 100Gi
  extraArgs:
    maxLabelsPerTimeseries: "300"
    storage.minFreeDiskSpaceBytes: "20GB"
  extraEnvs:
      - name: influx_databaseNames
        value: "GarminStats"
      - name: search_cacheTimestampOffset
        value: "17520h"
      - name: search_cacheMaxAge
        value: "720d"
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
    limits:
      cpu: 1000m
      memory: 2Gi