victoria-metrics-operator: {}

vmalert:
  enabled: true

vmagent:
  enabled: true
  spec:
    extraArgs:
      promscrape.maxScrapeSize: "32MB"


vmsingle: 
  enabled: true
  spec:
    retentionPeriod: 10y
    storage:
      resources:
        requests:
          storage: 30Gi
    insertPorts:
      influxPort: "8086"
    extraEnvs:
      - name: search_cacheTimestampOffset
        value: "10000h"
      - name: search_cacheMaxAge
        value: "360d"
      - name: influx_databaseNames
        value: "home"
    extraArgs:
      maxLabelsPerTimeseries: "500"
      # influxListenAddr: ":8428"
    serviceSpec:
      spec:
        type: LoadBalancer
        loadBalancerIP: 10.10.8.10
    resources:
      requests:
        cpu: 150m
        memory: 500Mi
      limits:
        cpu: 2500m
        memory: 4Gi
        
defaultDashboards:
  annotations:
    argocd.argoproj.io/sync-options: ServerSideApply=true
  node-exporter-full:
    enabled: true

grafana:
  admin:
    existingSecret: grafana-secrets
    userKey: grafana-admin-user
    passwordKey: grafana-admin-password
  plugins:
    - victoriametrics-logs-datasource
  datasources:
    datasources.yaml:
      apiVersion: 1
      datasources:
      - name: VictoriaLogs
        type: victoriametrics-logs-datasource
        url: http://victoria-logs-single-server.monitoring.svc.cluster.local:9428
  dashboards:
    default:
      victorialogs:
        gnetId: 21550
        revision: 1
        datasource: VictoriaLogs
  dashboardProviders:
    dashboardproviders.yaml:
      apiVersion: 1
      providers:
      - name: 'default'
        orgId: 1
        folder: ''
        type: file
        disableDeletion: false
        editable: true
        options:
          path: /var/lib/grafana/dashboards/default